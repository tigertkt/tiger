<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Tiger Extension Installed</title>
<style>
:root {
  --tiger1: #ff7a18;
  --tiger2: #ff5a00;
}
body {
  margin:0; height:100vh; display:flex; align-items:center; justify-content:center;
  background: radial-gradient(circle at top, #111a2c, #060a14);
  font-family: 'Segoe UI', sans-serif;
  overflow:hidden;
  color:#fff;
}
.popup {
  position:relative;
  width:420px; max-width:90%;
  padding:28px;
  border-radius:22px;
  background: rgba(255,255,255,0.06);
  backdrop-filter: blur(20px);
  box-shadow: 0 20px 50px rgba(0,0,0,0.6), 0 0 30px rgba(255,122,24,0.3);
  text-align:center;
  animation: floatIn .6s cubic-bezier(.2,1.2,.3,1) forwards;
}
@keyframes floatIn {
  from {transform: translateY(40px) scale(.9); opacity:0;}
  to {transform: translateY(0) scale(1); opacity:1;}
}
h2 {
  margin:14px 0 8px;
  font-size:22px;
  background: linear-gradient(90deg,var(--tiger1),var(--tiger2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
p {margin:0; font-size:14px; color:#ccc;}
.check {
  width:120px; height:120px; margin:0 auto;
  border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  background: radial-gradient(circle at 30% 30%, #fff2, #0003);
  box-shadow: inset 0 0 20px rgba(255,255,255,0.05),
              0 0 40px rgba(255,122,24,0.4);
  transform: scale(0);
  animation: pop .6s cubic-bezier(.5,1.5,.5,1) .3s forwards;
}
@keyframes pop {to {transform: scale(1);}}
.check svg {
  stroke: white; stroke-width:6; fill:none;
  stroke-dasharray:100; stroke-dashoffset:100;
  animation: draw 1s ease .6s forwards;
}
@keyframes draw {to {stroke-dashoffset:0;}}
.progress {
  height:8px; border-radius:10px;
  margin:20px 0; background:#fff2; overflow:hidden;
}
.progress span {
  display:block; height:100%;
  background: linear-gradient(90deg,var(--tiger1),var(--tiger2));
  transform-origin:left; animation: timer 5s linear forwards;
}
@keyframes timer {from{transform:scaleX(1);} to{transform:scaleX(0);}}
canvas {
  position:absolute; inset:0; width:100%; height:100%;
  pointer-events:none; z-index:-1;
}
</style>
</head>
<body>
<div class="popup" id="popup">
  <canvas id="confetti"></canvas>
  <div class="check">
    <svg viewBox="0 0 64 64">
      <path d="M18 34 L28 44 L46 22"/>
    </svg>
  </div>
  <h2>Install Success ðŸŽ‰</h2>
  <p>Tiger Extension is ready!</p>
  <div class="progress"><span></span></div>
</div>

<!-- Success + Close Sounds -->
<audio id="successSound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg" preload="auto"></audio>
<audio id="closeSound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg" preload="auto"></audio>

<script>
/* Play success sound when popup appears */
document.getElementById("successSound").play().catch(()=>{});

/* Auto close after 5 seconds */
setTimeout(closePopup, 5000);

function closePopup(){
  const pop=document.getElementById('popup');
  if(!pop) return;
  document.getElementById("closeSound").play().catch(()=>{});
  pop.style.transition='all .6s ease';
  pop.style.opacity='0';
  pop.style.transform='translateY(20px) scale(.9)';
  setTimeout(()=>{
    pop.remove();
    window.close(); // ðŸ”‘ Will close if opened by extension
  },600);
}

/* Confetti */
const canvas=document.getElementById("confetti"),ctx=canvas.getContext("2d");
canvas.width=window.innerWidth; canvas.height=window.innerHeight;
let parts=[];
function random(a,b){return Math.random()*(b-a)+a;}
for(let i=0;i<80;i++){
  parts.push({x:random(0,canvas.width),y:random(-canvas.height,0),
    r:random(4,8),c:`hsl(${random(20,50)},100%,${random(50,70)}%)`,
    vy:random(2,5)});
}
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  parts.forEach(p=>{
    ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,2*Math.PI);
    ctx.fillStyle=p.c; ctx.fill();
    p.y+=p.vy; if(p.y>canvas.height)p.y=-10;
  });
  requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>
